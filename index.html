<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üêå One Slap,the Tree Grows</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background-color: #f5fff7;
      text-align: center;
      padding: 10px;
      display: flex;
      justify-content: center;
    }
    .zoom-container {
      transform: scale(1.15);
      transform-origin: top center;
      width: 100%;
      max-width: 1200px;
    }
    h1 { font-size: 1.5em; margin: 5px 0; }
    .track {
      width: 100%;
      height: 300px;
      background: #e8f5e9;
      border-radius: 5px;
      margin: 10px auto;
      position: relative;
      overflow: hidden;
    }
    .snail {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      cursor: pointer;
      z-index: 2;
      transition: left 0.1s linear;
    }
    .tree {
      position: absolute;
      bottom: 10px;
      width: 30px;
      height: 30px;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%234CAF50" d="M50 10L30 50H40L25 80H35L20 100H80L65 80H75L60 50H70z"/></svg>');
      background-size: contain;
      background-repeat: no-repeat;
      z-index: 1;
      transition: all 0.3s ease-out;
      right: 20px;
    }
    .pit {
      position: absolute;
      bottom: 15px;
      width: 120px;
      height: 50px;
      background: radial-gradient(ellipse at center, black 80%, #000000aa 100%);
      border-radius: 50%;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 7);
      z-index: 0;
    }
    .hit-effect { animation: shake 0.2s; }
    @keyframes shake {
      0%,100% { transform: translateY(-50%); }
      50% { transform: translateY(-50%) translateX(5px); }
    }
    .fall-into-pit {
      animation: fallIntoPit 1s forwards;
      z-index: 4;
    }
    @keyframes fallIntoPit {
      0% { transform: translateY(-50%) scale(1); opacity: 1; }
      50% { transform: translate(0, 30px) scale(0.8); }
      100% { transform: translate(0, 80px) scale(0.2); opacity: 0; }
    }
    .speech-bubble, .oops-bubble {
      position: absolute;
      background: #fff;
      padding: 8px 14px;
      border-radius: 20px;
      font-size: 1em;
      color: #333;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      pointer-events: none;
    }
    .speech-bubble {
      bottom: 80px;
      animation: floatUp 2.5s ease-out forwards;
      z-index: 10;
    }
    .oops-bubble {
      bottom: 120px;
      font-size: 1.1em;
      color: red;
      font-weight: bold;
      animation: floatOops 2s ease-out forwards;
      z-index: 15;
      left: 50%;
      transform: translateX(-50%);
    }
    @keyframes floatUp {
      0% { opacity: 1; transform: translate(-50%, 0); }
      100% { opacity: 0; transform: translate(-50%, -60px); }
    }
    @keyframes floatOops {
      0% { opacity: 1; transform: translate(-50%, 0); }
      100% { opacity: 0; transform: translate(-50%, -100px); }
    }
    button {
      background: #4CAF50;
      border: none;
      color: white;
      padding: 8px 15px;
      margin: 5px;
      border-radius: 5px;
      font-family: 'Comic Sans MS';
      cursor: pointer;
      font-size: 0.9em;
    }
    .status {
      font-size: 1em;
      height: 20px;
      margin: 10px 0;
      color: #555;
    }
    .info {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 10px 0;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div class="zoom-container">
    <h1>üêå One Slap,the Tree Grows</h1>
    <div class="info">
      <span>Slaps: <span id="slapCount">0</span></span>
      <span>Speed: <span id="speed">0</span></span>
    </div>
    <div class="track">
      <div class="pit" id="pit"></div>
      <div class="tree" id="tree1"></div>
      <div class="snail" id="snail" onclick="slap()">
        <img src="snail1-removebg-preview.png" width="100" height="100" alt="Snail">
      </div>
    </div>
    <div class="status" id="status">Click the snail to slap it!</div>
    <div>
      <button onclick="start()">Start</button>
      <button onclick="reset()">Reset</button>
    </div>
  </div>

  <!-- Sounds -->
  <audio id="slapSound" src="https://cdn.pixabay.com/download/audio/2022/03/16/audio_d36a7d2450.mp3?filename=slap-6985.mp3" preload="auto"></audio>
  <audio id="fallSound" src="https://cdn.pixabay.com/download/audio/2022/03/08/audio_0a8c3d99d5.mp3?filename=falling-debris-20924.mp3" preload="auto"></audio>

  <script>
    const snail = document.getElementById('snail');
    const status = document.getElementById('status');
    const slapCount = document.getElementById('slapCount');
    const speedDisplay = document.getElementById('speed');
    const tree = document.getElementById('tree1');
    const pit = document.getElementById('pit');
    const slapSound = document.getElementById('slapSound');
    const fallSound = document.getElementById('fallSound');

    let position = 10;
    let speed = 0;
    const minSpeed = 0.3;
    let slaps = 0;
    let treeSize = 30;
    let moving = false;
    let gameInterval;

    const trackWidth = document.querySelector('.track').offsetWidth;
    const treeOffset = 20;
    const pitOffset = 302;
    const trackEnd = trackWidth - 60;
    const pitPosition = trackWidth - treeOffset - pitOffset;

    pit.style.left = `${pitPosition}px`;

    function start() {
      if (moving) return;
      moving = true;
      position = 10;
      speed = minSpeed;
      snail.style.opacity = '1';
      snail.style.display = 'block';
      snail.classList.remove('fall-into-pit');
      gameInterval = setInterval(move, 20);
      status.textContent = "Snail is moving! Slap to speed up!";
    }

    function reset() {
      clearInterval(gameInterval);
      moving = false;
      position = 10;
      speed = 0;
      slaps = 0;
      treeSize = 30;
      tree.style.width = treeSize + 'px';
      tree.style.height = treeSize + 'px';
      snail.style.left = position + 'px';
      snail.style.display = 'block';
      snail.style.opacity = '1';
      snail.classList.remove('fall-into-pit');
      status.textContent = "Click the snail to slap it!";
      slapCount.textContent = "0";
      speedDisplay.textContent = "0";
    }

    function move() {
      if (!moving) return;
      speed *= 0.98;
      if (speed < minSpeed) speed = minSpeed;

      position += speed;
      snail.style.left = position + 'px';
      speedDisplay.textContent = Math.round(speed * 10);

      if (position >= pitPosition && position < pitPosition + 10 && speed < 3) {
        fall();
        return;
      }

      if (position >= trackEnd) {
        moving = false;
        clearInterval(gameInterval);
        status.textContent = `üéâ Finished! Tree size: ${Math.round(treeSize)}px`;
      }
    }

    function fall() {
      moving = false;
      clearInterval(gameInterval);
      snail.classList.add('fall-into-pit');
      fallSound.currentTime = 0;
      fallSound.play();
      showOops();
      setTimeout(() => {
        snail.style.display = 'none';
      }, 1000);
    }

    function slap() {
      if (!moving) {
        status.textContent = "Click Start first!";
        return;
      }

      slapSound.currentTime = 0;
      slapSound.play();

      snail.classList.add('hit-effect');
      setTimeout(() => snail.classList.remove('hit-effect'), 200);

      speed += 1;
      slaps++;
      slapCount.textContent = slaps;

      treeSize += 5;
      tree.style.width = treeSize + 'px';
      tree.style.height = treeSize + 'px';

      tree.style.transform = 'scale(1.1)';
      setTimeout(() => tree.style.transform = 'scale(1)', 200);

      const snailPhrases = [
        "Ouch! üò£",
        "It hurts üò¢",
        "I'm trying üêåüí¶",
        "I am faster emotionally üòÖ",
        "Why are you like this? üòî",
        "Speed isn‚Äôt everything üò§",
        "I'll try harder ü•∫",
        "Just a snail, doing my best üêå‚ú®"
      ];
      const phrase = snailPhrases[Math.floor(Math.random() * snailPhrases.length)];

      const bubble = document.createElement('div');
      bubble.className = 'speech-bubble';
      bubble.textContent = phrase;

      bubble.style.left = (position + 20) + 'px';
      document.querySelector('.track').appendChild(bubble);
      setTimeout(() => bubble.remove(), 2500);
    }

    function showOops() {
      const bubble = document.createElement('div');
      bubble.className = 'oops-bubble';
      bubble.textContent = "OOPS!!!!";
      document.querySelector('.track').appendChild(bubble);
      setTimeout(() => bubble.remove(), 2000);
    }
  </script>
</body>
</html>
